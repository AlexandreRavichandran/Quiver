{% extends 'base.html.twig' %}

{% block title %}Home{% endblock %}

{% block body %}
<div class="container mx-auto p-4">
        <div class="grid grid-cols-12 gap-4">
            <div class="hidden col-span-12 sm:col-span-12 md:col-span-12 md:block xl:col-span-2 ">
                {% include 'partials/_leftSideBar.html.twig' %}
                <div class="hidden xl:block">
                    {% include 'partials/_footer.html.twig' %}
                </div>
            </div>
            <div class="col-span-12 sm:col-span-12 md:col-span-12 xl:col-span-7">
                <div class="container mx-auto">
                    {% if app.user is not same as null %}
                    <a class="modal-open" href="#">
                        <div class="bg-white p-4 mb-4 border border-gray-300">
                            <div class="flex">
                                <img class="block rounded-full" src="https://placehold.it/40x40" alt="">
                                <p class="text self-center pl-3">{{app.user.firstName}} {{app.user.lastName|upper}}</p>
                            </div>
                            <p class="text-2xl font-semibold">Quel est votre question ou quel est votre lien ?</p>
                        </div>
                    </a>
                    {% include 'partials/modals/_question_create_modal.html.twig' %}
                    {% endif %}
                    {% for question in questions %}

                    <div class="bg-white p-4 mb-3 border border-gray-300 questionAnswer" data-answer-id ="{{question.answers[0].id}}">
                        <div class="postHeader mb-3">
                            <a href="{{path('app_user_profile',{'pseudonym':question.answers[0].author.pseudonym})}}">
                                <p class="text-xl"><img class="inline mr-2 rounded-full" src="https://placehold.it/40x40" alt="">{{question.answers[0].author.pseudonym}}
                            </a>
                            <a href="#" class="text-indigo-500 text-base ml-2">Suivre</a></p>
                            <p class="text-sm text-gray-400">{{question.answers[0].author.description}}</p>
                            <a href="{{path('app_question_show',{'id':question.id})}}" class="block text-xl font-black p-2">{{question.question}}</a>
                        </div>
                        {% set answer = question.answers[0] %}
                        {% include 'partials/_answer_comment_subcomment.html.twig' %}
                    </div>

                    {% endfor %}
                </div>
                <div class="flex justify-center">
                    <div style="border-top-color:transparent" class="w-16 h-16 border-4 border-blue-400 border-solid rounded-full animate-spin">
                    </div>
                </div>
            </div>
            <div class="col-span-12 sm:col-span-12 lg:col-span-12 xl:col-span-3 bg-white">
            {% include 'partials/_rightSideBar.html.twig' %}  
            </div>
        </div>
        <div class="block xl:hidden">
            {% include 'partials/_footer.html.twig' %}
        </div>
    </div>
{% endblock %}
